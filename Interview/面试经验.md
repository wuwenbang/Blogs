## 1 LocalStorage SessionStorage Cookie 区别

### cookie

- 作用：保存登录信息和标记用户
- 大小：4KB
- 生命周期：一般由服务器生成，可设置生效时间，如果在浏览器端生成 Cookie，默认是关闭浏览器后失效
- 特性：每次都会携带在 HTTP 请求头中，参与服务端通信

> 同源：如果两个 URL 的 protocol、port 和 host 都相同的话，则这两个 URL 是同源。

### localStorage
- 作用：浏览器存储数据
- 大小：5MB
- 生命周期：存储的数据是永久性的，除非用户人为删除否则会一直存在。
- 作用域：在同一个浏览器内，同源文档之间共享 localStorage 数据，可以互相读取、覆盖。

### sessionStorage
- 作用：浏览器存储数据
- 大小：5MB
- 生命周期：与存储数据的脚本所在的标签页的有效期是相同的。一旦窗口或者标签页被关闭，那么所有通过 sessionStorage 存储的数据也会被删除。
- 作用域：只有同一浏览器、同一窗口的同源文档才能共享数据。


## 2 宏任务微任务
### 原则
- 宏任务有一个队列
- 每个宏任务都单独关联了一个微任务队列
- 每次宏任务执行完毕后都会先执行当前关联的微任务队列

![宏任务微任务](https://pic2.zhimg.com/80/v2-e6dd78c74cb671dd9408c2273308a265_1440w.jpg)
### 宏任务

| 名称                  | 浏览器 | Node |
| --------------------- | ------ | ---- |
| I/O                   | ✅      | ✅    |
| setTimeout            | ✅      | ✅    |
| setInterval           | ✅      | ✅    |
| setImmediate          | ❌      | ✅    |
| requestAnimationFrame | ✅      | ❌    |

### 微任务

| 名称             | 浏览器 | Node |
| ---------------- | ------ | ---- |
| Promise          | ✅      | ✅    |
| process.nextTick | ❌      | ✅    |
| MutationObserver | ✅      | ❌    |
